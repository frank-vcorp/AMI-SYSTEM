#!/bin/bash

# VERCEL DATABASE_URL VERIFICATION CHECKLIST
# ==================================================
# Use this to manually verify Vercel Settings are correct

echo "üìã VERCEL DATABASE_URL CONFIGURATION CHECKLIST"
echo "==============================================="
echo ""
echo "Follow these steps to verify DATABASE_URL is properly set:"
echo ""
echo "‚úÖ STEP 1: Go to Vercel Dashboard"
echo "   URL: https://vercel.com/frank-saavedras-projects/web-app/settings/environment-variables"
echo ""
echo "‚úÖ STEP 2: Look for DATABASE_URL variable"
echo "   Expected name: DATABASE_URL"
echo "   Expected value: postgresql://postgres:BQPrZrCRNzGOYzkuhaAxECtHAtVSIIzA@hopper.proxy.rlwy.net:34060/railway"
echo ""
echo "‚úÖ STEP 3: Verify it's set for ALL environments"
echo "   ‚òë Production"
echo "   ‚òë Preview"
echo "   ‚òë Development"
echo ""
echo "‚ö†Ô∏è  IF DATABASE_URL IS MISSING:"
echo "   1. Click 'Add Environment Variable'"
echo "   2. Name: DATABASE_URL"
echo "   3. Value: postgresql://postgres:BQPrZrCRNzGOYzkuhaAxECtHAtVSIIzA@hopper.proxy.rlwy.net:34060/railway"
echo "   4. Select: Production, Preview, Development"
echo "   5. Click 'Save'"
echo ""
echo "üöÄ AFTER ADDING/CONFIRMING:"
echo "   1. Go to: https://vercel.com/frank-saavedras-projects/web-app/deployments"
echo "   2. Find current deployment"
echo "   3. Click '...' ‚Üí 'Redeploy'"
echo "   4. Wait 3-5 minutes for rebuild"
echo ""
echo "‚úîÔ∏è  VERIFY AFTER REDEPLOY:"
echo "   Run: bash scripts/validate-vercel-connection.sh"
echo ""
echo "üìä EXPECTED OUTPUT AFTER FIX:"
echo "   ‚úÖ /api/diagnostics: HTTP 200, hasDatabase=true"
echo "   ‚úÖ /api/citas: HTTP 200, data=[]"
echo "   ‚úÖ Favicon: No 404 errors"
echo ""
