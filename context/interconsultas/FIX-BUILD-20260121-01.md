# DICTAMEN TÉCNICO: REPARACIÓN DE BUILD FASE 1 (INTEGRACIÓN MANUS UI)

**ID:** `FIX-BUILD-20260121-01`
**Fecha:** 2026-01-21
**Solicitante:** Frank Saavedra (Usuario)
**Interconsultor:** Deby (Lead Debugger)
**Estado:** [✓] Cerrado / Resuelto

## 1. Incidente Reportado
Fallo en el pipeline de construcción (`npm run build`) tras la integración del módulo de UI MANUS (`ValidatorSideBySide.tsx`).
El usuario solicitó verificación urgente.

## 2. Diagnóstico
Se identificaron tres causas raíz secuenciales:

1.  **Fallo de Resolución de Dependencias:** El paquete `@ami/core-ui` recién creado no estaba correctamente enlazado (symlink) en `node_modules` de `web-app` debido a que no se ejecutó `pnpm install` tras la creación manual de `package.json`.
2.  **Error en Script Opcional:** La ejecución de `pnpm install` fallaba por una dependencia opcional (`unrs-resolver`), lo que impedía completar el enlazado.
3.  **Errores de Tipado TypeScript:**
    *   Variable declarada pero no usada (`setActivePdfUrl`) en `ValidatorSideBySide.tsx`.
    *   Propiedad inexistente (`fullName`) en la interfaz `PatientSummary` (el nombre correcto es `name`).

## 3. Resolución Aplicada
1.  **Enlazado Forzado:** Se ejecutó `pnpm install --ignore-scripts` para regenerar los symlinks del monorepo omitiendo dependencias opcionales fallidas.
2.  **Corrección de Código (Hotfix):**
    *   Se eliminó la variable `setActivePdfUrl` en `packages/mod-validacion/src/components/ValidatorSideBySide.tsx`.
    *   Se corrigió la referencia `patient.fullName` a `patient.name` en el mismo archivo.
3.  **Verificación:** Se ejecutó `npm run build` localmente con resultado exitoso (Tasks: 15 successful).

## 4. Conclusión
El sistema ha sido estabilizado y el build compila correctamente (Next.js 14.2.35). Las correcciones deben ser commiteadas para disparar el despliegue en Vercel.

---
*Fin del Dictamen*
